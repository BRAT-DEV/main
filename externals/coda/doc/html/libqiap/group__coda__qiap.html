<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>QIAP-specific CODA Interface</title>
<link href="../css/qiap.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
</head>
<body>
<div class="wide">
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp;
<a class="qindex" href="modules.html">Modules</a> &nbsp;
</center>
<hr>
<!-- Generated by Doxygen 1.8.9.1 -->
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">QIAP-specific CODA Interface</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga509c3b629cef9ea8a55ef1bbda8e2bf6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__coda__qiap.html#ga509c3b629cef9ea8a55ef1bbda8e2bf6">coda_qiap_find_affected_product</a> (coda_product *product, const <a class="el" href="group__qiap.html#ga3ae50d154140ffc318e748b8607bb4d7">qiap_quality_issue</a> *quality_issue, <a class="el" href="group__qiap.html#ga0caef98aae467513ea712759c9c15f2b">qiap_affected_product</a> **affected_product)</td></tr>
<tr class="separator:ga509c3b629cef9ea8a55ef1bbda8e2bf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa3d548c335ab309b846ab3fce2b8004e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__coda__qiap.html#gaa3d548c335ab309b846ab3fce2b8004e">coda_qiap_set_report</a> (const char *path)</td></tr>
<tr class="separator:gaa3d548c335ab309b846ab3fce2b8004e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb30a164bfa4c1c85c2f2dc1383ca696"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__coda__qiap.html#gabb30a164bfa4c1c85c2f2dc1383ca696">coda_qiap_set_action_log</a> (const char *path)</td></tr>
<tr class="separator:gabb30a164bfa4c1c85c2f2dc1383ca696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb73545a020ee1f327dca3fc2d498ff9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__coda__qiap.html#gaeb73545a020ee1f327dca3fc2d498ff9">coda_set_option_enable_qiap</a> (int enable)</td></tr>
<tr class="separator:gaeb73545a020ee1f327dca3fc2d498ff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1817b753640831e02f9f6f0c8356e741"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__coda__qiap.html#ga1817b753640831e02f9f6f0c8356e741">coda_get_option_enable_qiap</a> (void)</td></tr>
<tr class="separator:ga1817b753640831e02f9f6f0c8356e741"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The QIAP-specific CODA interface contains a set of QIAP functions that are provided as part of the CODA library. The allow setting QIAP-specific setting in CODA and provide general QIAP-specific support functions.</p>
<p>Note that QIAP support is enabled in the CODA library by default. This can be disabled (or re-enabled) using the <a class="el" href="group__coda__qiap.html#gaeb73545a020ee1f327dca3fc2d498ff9">coda_set_option_enable_qiap()</a> function. For CODA to perform any QIAP actions, it will need to be provided a reference to a QIAP Quality Issue Report (stored as an xml file). This reference can be provided by setting a CODA_QIAP_REPORT enviroment variable that points to the location of the file (in the form of a full local file path) or by using the <a class="el" href="group__coda__qiap.html#gaa3d548c335ab309b846ab3fce2b8004e">coda_qiap_set_report()</a> function.</p>
<p>To have CODA write log entries for each action performed (both discard and corrective actions), set either the CODA_QIAP_LOG environment to point to a log file that CODA will append to, or use the <a class="el" href="group__coda__qiap.html#gabb30a164bfa4c1c85c2f2dc1383ca696">coda_qiap_set_action_log()</a> function. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga1817b753640831e02f9f6f0c8356e741"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coda_get_option_enable_qiap </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the current setting on whether QIAP is enabled. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__coda__qiap.html#gaeb73545a020ee1f327dca3fc2d498ff9">coda_set_option_enable_qiap()</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>0</code>, QIAP is disabled. </li>
<li><code>1</code>, QIAP is enabled. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga509c3b629cef9ea8a55ef1bbda8e2bf6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coda_qiap_find_affected_product </td>
          <td>(</td>
          <td class="paramtype">coda_product *&#160;</td>
          <td class="paramname"><em>product</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__qiap.html#ga3ae50d154140ffc318e748b8607bb4d7">qiap_quality_issue</a> *&#160;</td>
          <td class="paramname"><em>quality_issue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__qiap.html#ga0caef98aae467513ea712759c9c15f2b">qiap_affected_product</a> **&#160;</td>
          <td class="paramname"><em>affected_product</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine if a product file is affected by the given quality issue and return the associated qiap_affected_product data structure. If the product was affected then <em>affected_product</em> will be set to a valid handle, otherwise the variable will be set to NULL. The return code of the function will be 0 indepedent of whether the product was affected by the issue. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">product</td><td>Pointer to a product file handle. </td></tr>
    <tr><td class="paramname">quality_issue</td><td>Pointer to a quality issue handle. </td></tr>
    <tr><td class="paramname">affected_product</td><td>Pointer to the variable where a reference to the affected_product structure will be stored (if the product is not affected by the issue the variable will be set to NULL). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>0</code>, Success. </li>
<li><code>-1</code>, Error occurred (check coda_errno). </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="gabb30a164bfa4c1c85c2f2dc1383ca696"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coda_qiap_set_action_log </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the location where log messages of performed QIAP actions should be written. This function should be called before coda_init() is called.</p>
<p>The path should be a full path to a file where the log messages will be written. If the file does not yet exist, it will be created. Note that log messages will only be written once a file is closed using coda_close().</p>
<p>Specifying a log location using this function will prevent CODA from using the CODA_QIAP_LOG environment variable. If you still want CODA to acknowledge the CODA_QIAP_LOG environment variable then use something like this in your code: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;if (getenv(&quot;CODA_QIAP_LOG&quot;) == NULL)</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;{</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    coda_qiap_set_action_log(&quot;&lt;QIAP action log file&gt;&quot;);</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Full path to QIAP action log file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>0</code>, Success. </li>
<li><code>-1</code>, Error occurred (check coda_errno). </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="gaa3d548c335ab309b846ab3fce2b8004e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coda_qiap_set_report </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the location of the QIAP Issue Report that should be used. This function should be called before coda_init() is called.</p>
<p>The path should be a full path to the QIAP Issue Report file.</p>
<p>Specifying a path using this function will prevent CODA from using the CODA_QIAP_REPORT environment variable. If you still want CODA to acknowledge the CODA_QIAP_REPORT environment variable then use something like this in your code: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;if (getenv(&quot;CODA_QIAP_REPORT&quot;) == NULL)</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;{</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    coda_qiap_set_report(&quot;&lt;path to QIAP Issue Report&gt;&quot;);</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Full path to QIAP Issue Report file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>0</code>, Success. </li>
<li><code>-1</code>, Error occurred (check coda_errno). </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="gaeb73545a020ee1f327dca3fc2d498ff9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coda_set_option_enable_qiap </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable/Disable the use of QIAP. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enable</td><td><ul>
<li>0: Disable QIAP. </li>
<li>1: Enable QIAP. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>0</code>, Success. </li>
<li><code>-1</code>, Error occurred (check coda_errno). </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
<div class="footer">
<hr><p>Copyright &copy; 2009-2015 <b>s<span class="soft-red">[</span>&amp;<span class="soft-red">]</span>t</b>, The Netherlands.
</p>
</div>
</div>
</body>
</html>
